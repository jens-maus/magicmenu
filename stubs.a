**
** MagicMenu - Intuition PopupMenu enhancement
**
** Copyright (C) 1993-1997 by Martin Korndörfer
** Copyright (C) 1997-2001 by Olaf `Olsen' Barthel
** Copyright (C) 2001 by Stephan Rupprecht, Jens Langner
**
** This program is distributed in the hope that it will be useful,
** but WITHOUT ANY WARRANTY; without even the implied warranty of
** MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
**
** MagicMenu Official Support Site :  http://www.magicmenu.de/
**
** $Id$
**

	section text,code

*--------------------------------------------------------------------------

PATCH	macro

	xref	_Old\1
	xref	Old\1
	xdef	Call\1
	xdef	_Call\1

_Call\1:
Call\1:
	movem.l a0-a6/d1-d7,-(sp)
 IFD STORM
	move.l	_Old\1(a4),a4
 ELSE
	move.l	Old\1(a4),a4
 ENDIF
	jsr	(a4)
	movem.l (sp)+,a0-a6/d1-d7
	rts

	endm

*--------------------------------------------------------------------------

	PATCH	OpenWindow
	PATCH	OpenWindowTagList
	PATCH	ClearMenuStrip
	PATCH	SetMenuStrip
	PATCH	ResetMenuStrip
	PATCH	CloseWindow
	PATCH	ActivateWindow
	PATCH	WindowToFront
	PATCH	WindowToBack
	PATCH	ModifyIDCMP
	PATCH	ObtainGIRPort
	PATCH	LendMenus
	PATCH	OffMenu
	PATCH	OnMenu
	PATCH	SetWindowTitles
	PATCH	RefreshWindowFrame
	PATCH	OpenScreen
	PATCH	OpenScreenTagList
	PATCH	CloseScreen
	PATCH	ScreenToFront
	PATCH	ScreenToBack
	PATCH	ScreenDepth
	PATCH	SetFunction

*--------------------------------------------------------------------------

	end
